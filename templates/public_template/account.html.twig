<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./img/logo-kword.png" type="image/x-icon">
    <link rel="stylesheet" href="./css/tailwind.css">
    <link rel="stylesheet" href="./css/main.css">
    <title>K-WORLD</title>
</head>
<body class="flex flex-col overflow-x-hidden">
<div class="absolute w-full text-center z-50">
    {# pass a string argument to get only the messages of that type #}
    {% for message in app.flashes('success') %}
        <!-- Alert Info -->
        <div class="bg-blue-200 px-6 py-4 mx-2 my-4 rounded-md text-lg flex items-center mx-auto w-3/4 xl:w-2/4">
            <svg viewBox="0 0 24 24" class="text-blue-600 w-5 h-5 sm:w-5 sm:h-5 mr-3" >
                <path fill="currentColor" d="M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"></path>
            </svg>
            <span class="text-blue-800"> {{ message }} </span>
        </div>
    {% endfor %}

    {# pass a string argument to get only the messages of that type #}
    {% for message in app.flashes('error') %}
        <!-- Alert Info -->
        <div class="bg-red-400 px-6 py-4 mx-2 my-4 rounded-md text-lg flex items-center mx-auto w-3/4 xl:w-2/4">
            <svg viewBox="0 0 24 24" class="text-red-800 w-5 h-5 sm:w-5 sm:h-5 mr-3">
                <path fill="currentColor"  d="M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"></path>
            </svg>
            <span class="text-red-800"> {{ message }}. </span>
        </div>
    {% endfor %}

</div>
<div class="w-full h-screen absolute flex items-center justify-center p-2" style="background: rgba(0, 0, 0, .5);">

        <div class="w-full max-w-xl px-4 py-12 kw-bg-yellow-trans shadow-xl rounded-xl">
            <img src="./uploads/{{ app.session.get('member_logged_avatar') }}" alt="" class="h-32 w-32 border-2 shadow-xl p-1 mx-auto rounded-full object-cover">
            <h1 class="h-12 w-32 text-center text-white p-1 mx-auto" style="font-size: 30px;">{% if app.session.get('member_logged_pseudo')|length != 0 %}{{ app.session.get('member_logged_pseudo') }}{% else %}{{ app.session.get('admin_role_name') }}{% endif %}</h1>
            <div class="p-2 md:flex-1">
                {{ form_start(form,{attr:{'class':'flex flex-col space-y-5'}}) }}
                <div class="flex flex-col space-y-1 text-white">
                    {{ form_label(form.avatar) }}
                    {{ form_widget(form.avatar,{ 'attr': {
                        'class':'px-4 py-2 transition duration-300 border border-gray-300 bg-transparent rounded focus:border-transparent focus:outline-none focus:ring-4 focus:ring-blue-200',

                    } }) }}
                </div>

                <div class="flex flex-col space-y-1 text-white">
                      {{ form_label(form.pseudo) }}
                      {{ form_widget(form.pseudo,{ 'attr': {
                          'class':'px-4 py-2 transition duration-300 border border-gray-300 bg-transparent rounded focus:border-transparent focus:outline-none focus:ring-4 focus:ring-blue-200',

                      } }) }}
                  </div>
                  {#<div class="flex flex-col space-y-1 text-white">
                      {{ form_label(form.password) }}
                      {{ form_widget(form.password,{ 'attr': {
                          'class':'px-4 py-2 transition duration-300 border border-gray-300 bg-transparent rounded focus:border-transparent focus:outline-none focus:ring-4 focus:ring-blue-200',
                          'placeholder':'****************'
                      } }) }}
                  </div>
                  <div class="flex flex-col space-y-1 text-white">
                      {{ form_label(form.ConfirmezPassword) }}
                      {{ form_widget(form.ConfirmezPassword,{ 'attr': {
                          'class':'px-4 py-2 transition duration-300 border border-gray-300 bg-transparent rounded focus:border-transparent focus:outline-none focus:ring-4 focus:ring-blue-200',
                            'placeholder':'****************'
                      } }) }}
                  </div>#}

                  <div>
                      {{ form_widget(form.Enregistrer, {'attr':{'class':'w-full px-4 py-2 text-lg font-semibold border text-white kw-bg-yellow rounded-md shadow transform hover:scale-105 transition-all duration-500 focus:outline-none'}}) }}

                  </div>
                  {{ form_end(form) }}
                <br>
                    <a href="{{ path('recuperation') }}" class="text-yellow-400 hover:text-yellow-500">
                        Modifier mdp
                    </a>
            </div>
        </div>
    </div>
<script>
   var input = document.querySelector('#edit_profile_pseudo');
       input.value = '{{ pseudo }}';

</script>
</body>
</html>